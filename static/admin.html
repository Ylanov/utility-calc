<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∞–Ω–µ–ª—å –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ñ–ö–•</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* =========================================
           –í–ù–£–¢–†–ï–ù–ù–ò–ï –°–¢–ò–õ–ò (–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏ –º–µ–ª–æ—á–∏)
           ========================================= */

        /* –§–æ–Ω –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ (–∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ) */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-overlay.open { display: flex; }

        /* –°–∞–º–æ –æ–∫–Ω–æ */
        .modal-window {
            background: white;
            padding: 25px;
            border-radius: 10px;
            width: 500px;
            max-width: 90%;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            position: relative;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { transform: translateY(-30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ–∫–Ω–∞ */
        .modal-header {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            color: #333;
        }

        /* –°—Ç—Ä–æ–∫–∏ –≤–Ω—É—Ç—Ä–∏ –æ–∫–Ω–∞ */
        .modal-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .modal-row label { width: 60%; color: #555; font-size: 14px; }
        .modal-row input { width: 35%; padding: 8px; text-align: center; border: 1px solid #ccc; border-radius: 5px; }

        /* –ö–Ω–æ–ø–∫–∏ –≤ –æ–∫–Ω–µ */
        .modal-actions {
            margin-top: 25px;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .close-btn { background: #95a5a6; color: white; }
        .close-btn:hover { background: #7f8c8d; }
        .confirm-btn { background: #27ae60; color: white; }
        .confirm-btn:hover { background: #219150; }

        /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –±–ª–æ–∫ –≤ –æ–∫–Ω–µ */
        .highlight-calc {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            font-size: 14px;
            border-left: 4px solid #4a90e2;
            line-height: 1.6;
        }

        /* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤–∞–∂–Ω—ã—Ö –ø–æ–ª–µ–π */
        .highlight-group {
            border: 1px solid #ffc107;
            padding: 10px;
            border-radius: 5px;
            background: #fffdf5;
            margin-top: 5px;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–∞ –±—ç–∫–∞–ø–∞ */
        .backup-section {
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            background: #fafafa;
        }
        .backup-title { font-weight: bold; margin-bottom: 10px; color: #333; font-size: 18px; }
        .backup-desc { color: #666; margin-bottom: 15px; font-size: 14px; }

        /* –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π */
        .role-badge {
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            color: white;
        }
        .role-badge.user { background-color: #3498db; }
        .role-badge.accountant { background-color: #f39c12; }

        /* –ü–∞–≥–∏–Ω–∞—Ü–∏—è */
        .pagination {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        .pagination button {
            padding: 5px 12px;
            font-size: 14px;
            background: #e0e0e0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .pagination button:hover { background: #d0d0d0; }
        .pagination button:disabled { opacity: 0.5; cursor: not-allowed; }

    </style>
</head>
<body>

    <div class="container">
        <!-- ================= HEADER ================= -->
        <header>
            <h1>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ñ–ö–•</h1>
            <div style="display: flex; align-items: center; gap: 15px;">
                <span id="adminName" style="font-weight: bold; color: #555;"></span>
                <button class="logout-btn" onclick="logout()">–í—ã–π—Ç–∏</button>
            </div>
        </header>

        <!-- ================= NAV TABS ================= -->
        <div class="tabs">
            <button class="tab-btn active" onclick="openTab('readings')">üîç –°–≤–µ—Ä–∫–∞</button>
            <button class="tab-btn" onclick="openTab('users')">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</button>
            <button class="tab-btn" onclick="openTab('tariffs')">‚öôÔ∏è –¢–∞—Ä–∏—Ñ—ã</button>
            <button class="tab-btn" onclick="openTab('system')">üíæ –°–∏—Å—Ç–µ–º–∞</button>
            <button class="tab-btn" onclick="openTab('accountant')">üìä –°–≤–æ–¥–∫–∞</button>
        </div>


        <!-- ================= TAB 1: –°–í–ï–†–ö–ê –ü–û–ö–ê–ó–ê–ù–ò–ô ================= -->
        <div id="readings" class="tab-content active">

            <!-- –ë–õ–û–ö –£–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–ï–†–ò–û–î–û–ú -->
            <div class="card" style="background: linear-gradient(to right, #eef2f3, #8e9eab); border:none; margin-bottom: 20px;">
                <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap: wrap; gap: 15px;">
                    <div>
                        <h2 style="margin:0; border:none; color:#333; font-size: 18px;">
                            –¢–µ–∫—É—â–∏–π –ø–µ—Ä–∏–æ–¥: <span id="currentPeriodLabel" style="color:#2980b9; font-weight:bold;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                        </h2>
                        <small style="color:#555;">–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è (—Å–≤–µ—Ä–∫–∞, —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ) –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ.</small>
                    </div>

                    <div style="display:flex; gap:10px; align-items: center;">
                        <input type="text" id="newPeriodName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ (–Ω–∞–ø—Ä. –ú–∞—Ä—Ç 2025)"
                               style="padding:8px; border-radius:4px; border:1px solid #ccc; width: 220px;">

                        <button class="action-btn" style="margin:0; background:#c0392b; width:auto; white-space: nowrap; padding: 8px 15px;"
                                onclick="closePeriod()">
                            üîí –ó–∞–∫—Ä—ã—Ç—å –º–µ—Å—è—Ü
                        </button>
                    </div>
                </div>
            </div>

            <!-- –ë–õ–û–ö –° –¢–ê–ë–õ–ò–¶–ï–ô –ü–û–ö–ê–ó–ê–ù–ò–ô -->
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h2>–ü–æ—Å—Ç—É–ø–∏–≤—à–∏–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è (–ß–µ—Ä–Ω–æ–≤–∏–∫–∏)</h2>

                    <div style="display: flex; gap: 10px;">
                        <button class="action-btn" style="background:#f39c12; margin:0; width: auto; font-size: 13px; padding: 8px 15px;"
                                onclick="bulkApprove()">
                            ‚ö° –£—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—Å–µ (–ê–≤—Ç–æ)
                        </button>
                        <button class="refresh-btn" style="margin:0; height: 38px;" onclick="loadReadings(1)">‚Üª –û–±–Ω–æ–≤–∏—Ç—å</button>
                    </div>
                </div>

                <!-- –ë–õ–û–ö –§–ò–õ–¨–¢–†–û–í –ê–ù–û–ú–ê–õ–ò–ô -->
                <div style="margin-bottom: 15px; padding: 10px; background: #fdf8e2; border-radius: 5px; border: 1px solid #f1c40f;">
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; font-weight: bold;">
                        <input type="checkbox" id="filterAnomalies" onchange="toggleAnomalyFilter(this.checked)">
                        –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è
                    </label>
                </div>

                <!-- –ë–õ–û–ö –ü–ê–ì–ò–ù–ê–¶–ò–ò -->
                <div class="pagination">
                    <button onclick="changePage(-1)" id="btnPrev">‚Üê –ù–∞–∑–∞–¥</button>
                    <span id="pageIndicator" style="font-weight: bold; min-width: 80px; text-align: center;">–°—Ç—Ä. 1</span>
                    <button onclick="changePage(1)" id="btnNext">–í–ø–µ—Ä–µ–¥ ‚Üí</button>
                </div>

                <div class="table-container">
                    <table id="readingsTable">
                        <thead>
                            <tr>
                                <th>–ñ–∏–ª–µ—Ü</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–ì.–í–æ–¥–∞ (—Ç–µ–∫)</th>
                                <th>–•.–í–æ–¥–∞ (—Ç–µ–∫)</th>
                                <th>–°–≤–µ—Ç (—Ç–µ–∫)</th>
                                <th>–ü—Ä–µ–¥–≤. –°—É–º–º–∞</th>
                                <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ js/admin-readings.js -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ================= TAB 2: –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò ================= -->
        <div id="users" class="tab-content">

            <!-- –ë–õ–û–ö –ò–ú–ü–û–†–¢–ê –ò–ó EXCEL -->
            <div class="card" style="border-left: 5px solid #2ecc71;">
                <h2>üìÅ –ú–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∂–∏–ª—å—Ü–æ–≤ (Excel)</h2>
                <div style="display:flex; gap:10px; align-items:center;">
                    <input type="file" id="importUsersFile" accept=".xlsx" style="padding:5px;">
                    <button class="action-btn" style="width:auto; margin:0;" onclick="importUsers()">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                </div>
                <small style="color:#666; margin-top: 5px; display: block;">
                    –§–∞–π–ª .xlsx, –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ - –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è). –§–æ—Ä–º–∞—Ç: <strong>–õ–æ–≥–∏–Ω | –ü–∞—Ä–æ–ª—å | –ö–æ–º–Ω–∞—Ç–∞ | –ü–ª–æ—â–∞–¥—å | –ü–ª–∞—Ç–∏—Ç_–∑–∞ | –í—Å–µ–≥–æ_–≤_–∫–æ–º–Ω–∞—Ç–µ</strong>
                </small>
            </div>

            <!-- –§–æ—Ä–º–∞ —Ä—É—á–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
            <div class="card">
                <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –∂–∏–ª—å—Ü–∞</h2>
                <form id="addUserForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>–õ–æ–≥–∏–Ω (Username)</label>
                            <input type="text" id="newUsername" required placeholder="ivanov123">
                        </div>
                        <div class="form-group">
                            <label>–ü–∞—Ä–æ–ª—å</label>
                            <input type="password" id="newPassword" required placeholder="******">
                        </div>
                        <div class="form-group">
                            <label>–†–æ–ª—å –≤ —Å–∏—Å—Ç–µ–º–µ</label>
                            <select id="newRole">
                                <option value="user">–ñ–∏–ª–µ—Ü</option>
                                <option value="accountant">–ë—É—Ö–≥–∞–ª—Ç–µ—Ä</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>–û–±—â–µ–∂–∏—Ç–∏–µ</label>
                            <input type="text" id="dormitory" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: ‚Ññ5">
                        </div>
                        <div class="form-group">
                            <label>–ü–ª–æ—â–∞–¥—å (–º¬≤)</label>
                            <input type="number" step="0.1" id="area" placeholder="0.0" value="0">
                        </div>
                        <div class="form-group">
                            <label>–ü–ª–∞—Ç–∏—Ç –∑–∞ (—á–µ–ª)</label>
                            <input type="number" id="residentsCount" value="1" min="1">
                        </div>
                        <div class="form-group highlight-group">
                            <label>–í—Å–µ–≥–æ –≤ –∫–æ–º–Ω–∞—Ç–µ (—á–µ–ª)</label>
                            <input type="number" id="totalRoomResidents" value="1" min="1">
                            <small style="font-size: 11px; color: #888;">–î–ª—è –¥–µ–ª–µ–Ω–∏—è –æ–±—â–µ–≥–æ —Å—á–µ—Ç—á–∏–∫–∞ —Å–≤–µ—Ç–∞</small>
                        </div>
                        <div class="form-group full-width">
                            <label>–ú–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã / –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</label>
                            <input type="text" id="workplace">
                        </div>
                    </div>
                    <button type="submit" class="action-btn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
                </form>
            </div>

            <!-- –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <h2>–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h2>
                    <button class="refresh-btn" onclick="loadUsers()">‚Üª –û–±–Ω–æ–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É</button>
                </div>
                <div class="table-container">
                    <table id="usersTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–õ–æ–≥–∏–Ω</th>
                                <th>–†–æ–ª—å</th>
                                <th>–û–±—â–µ–∂–∏—Ç–∏–µ</th>
                                <th>–ü–ª–æ—â–∞–¥—å</th>
                                <th>–î–æ–ª—è</th>
                                <th>–†–∞–±–æ—Ç–∞</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ================= TAB 3: –¢–ê–†–ò–§–´ ================= -->
        <div id="tariffs" class="tab-content">
            <div class="card">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞—Ä–∏—Ñ–æ–≤ (—Ä—É–±.)</h2>
                <form id="tariffsForm">
                    <div class="tariffs-grid">
                        <div class="tariff-item">
                            <label>–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∏ —Ä–µ–º–æ–Ω—Ç <span class="unit">(–º¬≤)</span></label>
                            <input type="number" step="0.01" id="t_main" required>
                        </div>
                        <div class="tariff-item">
                            <label>–ù–∞–µ–º –∂–∏–ª—å—è <span class="unit">(–º¬≤)</span></label>
                            <input type="number" step="0.01" id="t_rent" required>
                        </div>
                        <div class="tariff-item">
                            <label>–¢–ö–û (–í—ã–≤–æ–∑ –º—É—Å–æ—Ä–∞) <span class="unit">(–º¬≤)</span></label>
                            <input type="number" step="0.01" id="t_waste" required>
                        </div>
                        <div class="tariff-item">
                            <label>–û—Ç–æ–ø–ª–µ–Ω–∏–µ <span class="unit">(–º¬≤)</span></label>
                            <input type="number" step="0.01" id="t_heat" required>
                        </div>
                        <div class="tariff-item">
                            <label>–ü–æ–¥–æ–≥—Ä–µ–≤ –¥–ª—è –ì–í–° <span class="unit">(–º¬≥)</span></label>
                            <input type="number" step="0.01" id="t_w_heat" required>
                        </div>
                        <div class="tariff-item">
                            <label>–ü–æ–¥–∞—á–∞ –≤–æ–¥—ã (–¥–ª—è –•–í–° –∏ –ì–í–°) <span class="unit">(–º¬≥)</span></label>
                            <input type="number" step="0.01" id="t_w_sup" required>
                        </div>
                        <div class="tariff-item" style="border: 2px solid #27ae60;">
                            <label>–í–æ–¥–æ–æ—Ç–≤–µ–¥–µ–Ω–∏–µ (–¥–ª—è –•–í–° –∏ –ì–í–°) <span class="unit">(–º¬≥)</span></label>
                            <input type="number" step="0.01" id="t_sew" required>
                        </div>
                        <div class="tariff-item" style="border: 2px solid var(--primary-color);">
                            <label>–¢–∞—Ä–∏—Ñ –Ω–∞ –≠–ª. –≠–Ω–µ—Ä–≥–∏—é <span class="unit">(–∫–í—Ç*—á)</span></label>
                            <input type="number" step="0.01" id="t_el_rate" required>
                        </div>
                        <div class="tariff-item">
                            <label>–≠–ª. —ç–Ω–µ—Ä–≥–∏—è (–û–î–ù) <span class="unit">(–º¬≤)</span></label>
                            <input type="number" step="0.01" id="t_el_sqm" required>
                        </div>
                    </div>
                    <button type="submit" class="action-btn" style="background-color: #27ae60; margin-top: 30px;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–∞—Ä–∏—Ñ—ã</button>
                </form>
            </div>
        </div>

        <!-- ================= TAB 4: –°–ò–°–¢–ï–ú–ê (–ë–≠–ö–ê–ü) ================= -->
        <div id="system" class="tab-content">
            <div class="card">
                <h2>–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</h2>
                <div class="backup-section">
                    <div class="backup-title">‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å –±—ç–∫–∞–ø (–≠–∫—Å–ø–æ—Ä—Ç)</div>
                    <div class="backup-desc">
                        –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª–Ω—É—é –∫–æ–ø–∏—é –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Ç–∞—Ä–∏—Ñ–æ–≤ –∏ –ø–æ–∫–∞–∑–∞–Ω–∏–π –≤ —Ñ–∞–π–ª —Ñ–æ—Ä–º–∞—Ç–∞ .sql.
                        –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–µ–ª–∞—Ç—å —ç—Ç–æ –ø–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏.
                    </div>
                    <button class="action-btn" onclick="downloadBackup()">–°–∫–∞—á–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (.sql)</button>
                </div>
                <div class="backup-section" style="border-color: #e74c3c; background: #fff5f5;">
                    <div class="backup-title" style="color: #c0392b;">‚¨ÜÔ∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ —Ñ–∞–π–ª–∞ (–ò–º–ø–æ—Ä—Ç)</div>
                    <div class="backup-desc">
                        –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ <strong>–ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç</strong> —Ç–µ–∫—É—â—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–º–µ–Ω–∏—Ç –µ—ë –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ —Ñ–∞–π–ª–∞.
                    </div>
                    <input type="file" id="restoreFile" accept=".sql" style="margin-bottom: 10px;">
                    <button class="action-btn" style="background: #c0392b;" onclick="restoreBackup()">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑—É</button>
                </div>
            </div>
        </div>

        <!-- ================= TAB 5: –°–í–û–î–ö–ê (–ë–£–•–ì–ê–õ–¢–ï–†–ò–Ø) ================= -->
        <div id="accountant" class="tab-content">
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2>–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ –∏ –ò—Å—Ç–æ—Ä–∏—è</h2>
                    <div style="display: flex; gap: 10px;">
                        <button class="action-btn" style="margin:0; background:#27ae60;" onclick="downloadRealExcel()">
                            üìä –°–∫–∞—á–∞—Ç—å –æ—Ç—á–µ—Ç (.xlsx)
                        </button>
                        <button class="refresh-btn" onclick="loadAccountantSummary()">‚Üª –û–±–Ω–æ–≤–∏—Ç—å</button>
                    </div>
                </div>
                <div class="table-container" id="summaryContainer">
                    <p style="text-align:center; color:#888;">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ================= –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û (POPUP) ================= -->
    <div id="approveModal" class="modal-overlay">
        <div class="modal-window">
            <div class="modal-header">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ö–æ—Ä—Ä–µ–∫—Ü–∏—è</div>
            <input type="hidden" id="modal_reading_id">
            <div class="highlight-calc">
                <strong>–ñ–∏–ª–µ—Ü:</strong> <span id="m_username"></span><br>
                –†–∞—Å—Ö–æ–¥ –ì–í–° (–Ω–∞–±–µ–∂–∞–ª–æ): <span id="m_hot_usage"></span> –º¬≥<br>
                –†–∞—Å—Ö–æ–¥ –•–í–° (–Ω–∞–±–µ–∂–∞–ª–æ): <span id="m_cold_usage"></span> –º¬≥<br>
                –†–∞—Å—Ö–æ–¥ –°–≤–µ—Ç (–æ–±—â–∏–π): <span id="m_elect_usage"></span> –∫–í—Ç
            </div>
            <div class="modal-row">
                <label>–ö–æ—Ä—Ä–µ–∫—Ü–∏—è –ì.–í. (–≤—ã—á–µ—Å—Ç—å –º¬≥):</label>
                <input type="number" step="0.01" id="m_corr_hot" value="0">
            </div>
            <div class="modal-row">
                <label>–ö–æ—Ä—Ä–µ–∫—Ü–∏—è –•.–í. (–≤—ã—á–µ—Å—Ç—å –º¬≥):</label>
                <input type="number" step="0.01" id="m_corr_cold" value="0">
            </div>
            <div class="modal-row">
                <label>–ö–æ—Ä—Ä–µ–∫—Ü–∏—è –°–≤–µ—Ç–∞ (–≤—ã—á–µ—Å—Ç—å –∫–í—Ç):</label>
                <input type="number" step="0.01" id="m_corr_elect" value="0">
            </div>
            <div class="modal-row" style="background: #e8f5e9; padding: 5px; border-radius: 4px;">
                <label>–ö–æ—Ä—Ä. –í–æ–¥–æ–æ—Ç–≤–µ–¥–µ–Ω–∏—è (–≤—ã—á–µ—Å—Ç—å –º¬≥):</label>
                <input type="number" step="0.01" id="m_corr_sewage" value="0">
            </div>
            <div class="modal-actions">
                <button class="action-btn close-btn" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="action-btn confirm-btn" onclick="submitApproval()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏ –ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- ================== –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –°–ö–†–ò–ü–¢–û–í ================== -->
    <script src="auth.js"></script>
    <script src="js/admin-readings.js"></script>
    <script src="js/admin-users.js"></script>
    <script src="js/admin-tariffs.js"></script>
    <script src="js/admin-system.js"></script>
    <script src="js/admin-summary.js"></script>
    <script src="js/admin-main.js"></script>
</body>
</html>